{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\components\\Sidebar\\SidebarItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\components\\Sidebar\\SidebarItem.vue","mtime":1642242241058},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IGlzRXh0ZXJuYWwgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJzsKaW1wb3J0IEFwcExpbmsgZnJvbSAnLi9MaW5rJzsKaW1wb3J0IEZpeGlPU0J1ZyBmcm9tICcuL0ZpeGlPU0J1Zyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lkZWJhckl0ZW0nLAogIGNvbXBvbmVudHM6IHsKICAgIEl0ZW0sCiAgICBBcHBMaW5rCiAgfSwKICBtaXhpbnM6IFtGaXhpT1NCdWddLAogIHByb3BzOiB7CiAgICAvLyByb3V0ZSBvYmplY3QKICAgIGl0ZW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlzTmVzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGJhc2VQYXRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1hZG1pbi10ZW1wbGF0ZS9pc3N1ZXMvMjM3CiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIHJlbmRlciBmdW5jdGlvbgogICAgdGhpcy5vbmx5T25lQ2hpbGQgPSBudWxsOwogICAgcmV0dXJuIHt9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGhhc09uZVNob3dpbmdDaGlsZChjaGlsZHJlbiA9IFtdLCBwYXJlbnQpIHsKICAgICAgY29uc3Qgc2hvd2luZ0NoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIGlmIChpdGVtLmhpZGRlbikgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBUZW1wIHNldCh3aWxsIGJlIHVzZWQgaWYgb25seSBoYXMgb25lIHNob3dpbmcgY2hpbGQpCiAgICAgICAgICB0aGlzLm9ubHlPbmVDaGlsZCA9IGl0ZW07CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBXaGVuIHRoZXJlIGlzIG9ubHkgb25lIGNoaWxkIHJvdXRlciwgdGhlIGNoaWxkIHJvdXRlciBpcyBkaXNwbGF5ZWQgYnkgZGVmYXVsdAoKICAgICAgaWYgKHNob3dpbmdDaGlsZHJlbi5sZW5ndGggPT09IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyBTaG93IHBhcmVudCBpZiB0aGVyZSBhcmUgbm8gY2hpbGQgcm91dGVyIHRvIGRpc3BsYXkKCgogICAgICBpZiAoc2hvd2luZ0NoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMub25seU9uZUNoaWxkID0geyAuLi5wYXJlbnQsCiAgICAgICAgICBwYXRoOiAnJywKICAgICAgICAgIG5vU2hvd2luZ0NoaWxkcmVuOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICByZXNvbHZlUGF0aChyb3V0ZVBhdGgpIHsKICAgICAgaWYgKGlzRXh0ZXJuYWwocm91dGVQYXRoKSkgewogICAgICAgIHJldHVybiByb3V0ZVBhdGg7CiAgICAgIH0KCiAgICAgIGlmIChpc0V4dGVybmFsKHRoaXMuYmFzZVBhdGgpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVBhdGg7CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5iYXNlUGF0aCwgcm91dGVQYXRoKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["SidebarItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,OAAA,IAAA,MAAA,MAAA;AACA,SAAA,UAAA,QAAA,SAAA;AACA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,OAAA,MAAA,QAAA;AACA,OAAA,SAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,IAAA;AAAA,IAAA;AAAA,GAFA;AAGA,EAAA,MAAA,EAAA,CAAA,SAAA,CAHA;AAIA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAFA;AAMA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KANA;AAUA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAVA,GAJA;;AAmBA,EAAA,IAAA,GAAA;AACA;AACA;AACA,SAAA,YAAA,GAAA,IAAA;AACA,WAAA,EAAA;AACA,GAxBA;;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,kBAAA,CAAA,QAAA,GAAA,EAAA,EAAA,MAAA,EAAA;AACA,YAAA,eAAA,GAAA,QAAA,CAAA,MAAA,CAAA,IAAA,IAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA;AACA,iBAAA,KAAA;AACA,SAFA,MAEA;AACA;AACA,eAAA,YAAA,GAAA,IAAA;AACA,iBAAA,IAAA;AACA;AACA,OARA,CAAA,CADA,CAWA;;AACA,UAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAdA,CAgBA;;;AACA,UAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,YAAA,GAAA,EAAA,GAAA,MAAA;AAAA,UAAA,IAAA,EAAA,EAAA;AAAA,UAAA,iBAAA,EAAA;AAAA,SAAA;AACA,eAAA,IAAA;AACA;;AAEA,aAAA,KAAA;AACA,KAxBA;;AAyBA,IAAA,WAAA,CAAA,SAAA,EAAA;AACA,UAAA,UAAA,CAAA,SAAA,CAAA,EAAA;AACA,eAAA,SAAA;AACA;;AACA,UAAA,UAAA,CAAA,KAAA,QAAA,CAAA,EAAA;AACA,eAAA,KAAA,QAAA;AACA;;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,KAAA,QAAA,EAAA,SAAA,CAAA;AACA;;AAjCA;AAzBA,CAAA","sourcesContent":["<template>\n  <div v-if=\"!item.hidden\">\n    <template\n      v-if=\"\n        hasOneShowingChild(item.children, item) &&\n        (!onlyOneChild.children || onlyOneChild.noShowingChildren) &&\n        !item.alwaysShow\n      \"\n    >\n      <app-link v-if=\"onlyOneChild.meta\" :to=\"resolvePath(onlyOneChild.path)\">\n        <el-menu-item\n          :index=\"resolvePath(onlyOneChild.path)\"\n          :class=\"{ 'submenu-title-noDropdown': !isNest }\"\n        >\n          <item\n            :icon=\"onlyOneChild.meta.icon || (item.meta && item.meta.icon)\"\n            :title=\"onlyOneChild.meta.title\"\n          />\n        </el-menu-item>\n      </app-link>\n    </template>\n\n    <el-submenu\n      v-else\n      ref=\"subMenu\"\n      :index=\"resolvePath(item.path)\"\n      popper-append-to-body\n    >\n      <template slot=\"title\">\n        <item\n          v-if=\"item.meta\"\n          :icon=\"item.meta && item.meta.icon\"\n          :title=\"item.meta.title\"\n        />\n      </template>\n      <sidebar-item\n        v-for=\"(child, index) in item.children\"\n        :key=\"index\"\n        :is-nest=\"true\"\n        :item=\"child\"\n        :base-path=\"resolvePath(child.path)\"\n        class=\"nest-menu\"\n      />\n    </el-submenu>\n  </div>\n</template>\n\n<script>\nimport path from 'path'\nimport { isExternal } from '@/utils'\nimport Item from './Item'\nimport AppLink from './Link'\nimport FixiOSBug from './FixiOSBug'\n\nexport default {\n  name: 'SidebarItem',\n  components: { Item, AppLink },\n  mixins: [FixiOSBug],\n  props: {\n    // route object\n    item: {\n      type: Object,\n      required: true,\n    },\n    isNest: {\n      type: Boolean,\n      default: false,\n    },\n    basePath: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    // To fix https://github.com/PanJiaChen/vue-admin-template/issues/237\n    // TODO: refactor with render function\n    this.onlyOneChild = null\n    return {}\n  },\n  methods: {\n    hasOneShowingChild(children = [], parent) {\n      const showingChildren = children.filter((item) => {\n        if (item.hidden) {\n          return false\n        } else {\n          // Temp set(will be used if only has one showing child)\n          this.onlyOneChild = item\n          return true\n        }\n      })\n\n      // When there is only one child router, the child router is displayed by default\n      if (showingChildren.length === 1) {\n        return true\n      }\n\n      // Show parent if there are no child router to display\n      if (showingChildren.length === 0) {\n        this.onlyOneChild = { ...parent, path: '', noShowingChildren: true }\n        return true\n      }\n\n      return false\n    },\n    resolvePath(routePath) {\n      if (isExternal(routePath)) {\n        return routePath\n      }\n      if (isExternal(this.basePath)) {\n        return this.basePath\n      }\n      return path.resolve(this.basePath, routePath)\n    },\n  },\n}\n</script>\n"],"sourceRoot":"src/layout/components/Sidebar"}]}