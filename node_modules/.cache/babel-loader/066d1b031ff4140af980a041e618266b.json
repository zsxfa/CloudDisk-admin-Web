{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\views\\acl\\role\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\views\\acl\\role\\list.vue","mtime":1649302923125},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\.babelrc","mtime":1649302887736},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649302895478},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649302893135},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649302895478},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1649302920958}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJvbGVBcGkgZnJvbSAnQC9hcGkvYWNsL3JvbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICAvLyDmlbDmja7mmK/lkKbmraPlnKjliqDovb0KICAgICAgbGlzdDogbnVsbCwKICAgICAgLy8g5YiX6KGoCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmlbDmja7lupPkuK3nmoTmgLvorrDlvZXmlbAKICAgICAgcGFnZTogMSwKICAgICAgLy8g6buY6K6k6aG156CBCiAgICAgIGxpbWl0OiAxMCwKICAgICAgLy8g5q+P6aG16K6w5b2V5pWwCiAgICAgIHNlYXJjaE9iajoge30sCiAgICAgIC8vIOafpeivouihqOWNleWvueixoQogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10gLy8g5om56YeP6YCJ5oup5Lit6YCJ5oup55qE6K6w5b2V5YiX6KGoCgogICAgfTsKICB9LAogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdouWwmuacqua4suafkwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnbGlzdCBjcmVhdGVkLi4uLi4uJyk7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgLy8g55Sf5ZG95ZGo5pyf5Ye95pWw77ya5YaF5a2Y5YeG5aSH5a6M5q+V77yM6aG16Z2i5riy5p+T5oiQ5YqfCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdsaXN0IG1vdW50ZWQuLi4uLi4nKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOW9k+mhteeggeWPkeeUn+aUueWPmOeahOaXtuWAmQogICAgY2hhbmdlU2l6ZTogZnVuY3Rpb24gY2hhbmdlU2l6ZShzaXplKSB7CiAgICAgIGNvbnNvbGUubG9nKHNpemUpOwogICAgICB0aGlzLmxpbWl0ID0gc2l6ZTsKICAgICAgdGhpcy5mZXRjaERhdGEoMSk7CiAgICB9LAogICAgYWRkVXNlcjogZnVuY3Rpb24gYWRkVXNlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvYWNsL3JvbGUvZm9ybScKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yqg6L295YiX6KGo5pWw5o2uCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICBjb25zb2xlLmxvZygn57+76aG144CC44CC44CCJyArIHBhZ2UpOyAvLyDlvILmraXojrflj5bov5znqIvmlbDmja7vvIhhamF477yJCgogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICByb2xlQXBpLmdldFBhZ2VMaXN0KHRoaXMucGFnZSwgdGhpcy5saW1pdCwgdGhpcy5zZWFyY2hPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOyAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KCiAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572u5p+l6K+i6KGo5Y2VCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgY29uc29sZS5sb2coJ+mHjee9ruafpeivouihqOWNlScpOwogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9OwogICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgfSwKICAgIC8vIOagueaNrmlk5Yig6Zmk5pWw5o2uCiAgICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBkZWJ1Z2dlcgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gcHJvbWlzZQogICAgICAgIC8vIOeCueWHu+ehruWumu+8jOi/nOeoi+iwg+eUqGFqYXgKICAgICAgICByZXR1cm4gcm9sZUFwaS5yZW1vdmVCeUlkKGlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZmV0Y2hEYXRhKF90aGlzMi5wYWdlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5b2T6KGo5qC85aSN6YCJ5qGG6YCJ6aG55Y+R55Sf5Y+Y5YyW55qE5pe25YCZ6Kem5Y+RCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgY29uc29sZS5sb2coJ2hhbmRsZVNlbGVjdGlvbkNoYW5nZS4uLi4uLicpOwogICAgICBjb25zb2xlLmxvZyhzZWxlY3Rpb24pOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gc2VsZWN0aW9uOwogICAgfSwKICAgIC8vIOaJuemHj+WIoOmZpAogICAgcmVtb3ZlUm93czogZnVuY3Rpb24gcmVtb3ZlUm93cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygncmVtb3ZlUm93cy4uLi4uLicpOwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6KaB5Yig6Zmk55qE6K6w5b2VIScKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBwcm9taXNlCiAgICAgICAgLy8g54K55Ye756Gu5a6a77yM6L+c56iL6LCD55SoYWpheAogICAgICAgIC8vIOmBjeWOhnNlbGVjdGlvbu+8jOWwhmlk5Y+W5Ye65pS+5YWlaWTliJfooagKICAgICAgICB2YXIgaWRMaXN0ID0gW107CgogICAgICAgIF90aGlzMy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZExpc3QucHVzaChpdGVtLmlkKTsgLy8gY29uc29sZS5sb2coaWRMaXN0KQogICAgICAgIH0pOyAvLyDosIPnlKhhcGkKCgogICAgICAgIHJldHVybiByb2xlQXBpLnJlbW92ZVJvd3MoaWRMaXN0KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuZmV0Y2hEYXRhKF90aGlzMy5wYWdlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5omn6KGM5pCc57SiCiAgICAvLyBxdWVyeVN0cmluZ++8muaWh+acrOahhuS4rei+k+WFpeeahOWAvAogICAgLy8gY2LvvJrkuIDkuKrlh73mlbAKICAgIHF1ZXJ5U2VhcmNoOiBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsKICAgICAgY29uc29sZS5sb2cocXVlcnlTdHJpbmcpOwogICAgICBjb25zb2xlLmxvZyhjYik7IC8vIHRlYWNoZXIuc2VsZWN0TmFtZUJ5S2V5KHF1ZXJ5U3RyaW5nKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAvLyDosIPnlKggY2FsbGJhY2sg6L+U5Zue5bu66K6u5YiX6KGo55qE5pWw5o2uCiAgICAgIC8vICAgY2IocmVzcG9uc2UuZGF0YS5pdGVtcykKICAgICAgLy8gfSkKICAgIH0KICB9Cn07"},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <!-- 查询表单 -->\r\n    <!--查询表单-->\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchObj.roleName\" placeholder=\"角色名称\" />\r\n      </el-form-item>\r\n\r\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"fetchData()\">\r\n        查询\r\n      </el-button>\r\n      <el-button type=\"default\" @click=\"resetData()\">清空</el-button>\r\n    </el-form>\r\n\r\n    <!-- 工具条 -->\r\n    <div>\r\n      <el-button\r\n        type=\"danger\"\r\n        size=\"mini\"\r\n        @click=\"addUser()\"\r\n        v-if=\"hasPerm('role.add')\"\r\n      >\r\n        添加\r\n      </el-button>\r\n      <el-button\r\n        type=\"danger\"\r\n        size=\"mini\"\r\n        @click=\"removeRows()\"\r\n        v-if=\"hasPerm('role.remove')\"\r\n      >\r\n        批量删除\r\n      </el-button>\r\n    </div>\r\n\r\n    <!-- 角色列表 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      style=\"width: 100%\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\" />\r\n\r\n      <el-table-column label=\"序号\" width=\"70\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"roleName\" label=\"角色名称\" />\r\n\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <router-link :to=\"'/acl/role/distribution/' + scope.row.id\">\r\n            <el-button\r\n              type=\"info\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-info\"\r\n              v-if=\"hasPerm('role.acl')\"\r\n            ></el-button>\r\n          </router-link>\r\n          <router-link :to=\"'/acl/role/update/' + scope.row.id\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n              v-if=\"hasPerm('role.update')\"\r\n            ></el-button>\r\n          </router-link>\r\n          <el-button\r\n            type=\"danger\"\r\n            size=\"mini\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"removeDataById(scope.row.id)\"\r\n            v-if=\"hasPerm('role.remove')\"\r\n          ></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :page-size=\"limit\"\r\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\r\n      style=\"padding: 30px 0; text-align: center\"\r\n      layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\r\n      @current-change=\"fetchData\"\r\n      @size-change=\"changeSize\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport roleApi from '@/api/acl/role'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      listLoading: true, // 数据是否正在加载\r\n      list: null, // 列表\r\n      total: 0, // 数据库中的总记录数\r\n      page: 1, // 默认页码\r\n      limit: 10, // 每页记录数\r\n      searchObj: {}, // 查询表单对象\r\n      multipleSelection: [], // 批量选择中选择的记录列表\r\n    }\r\n  },\r\n\r\n  // 生命周期函数：内存准备完毕，页面尚未渲染\r\n  created() {\r\n    console.log('list created......')\r\n    this.fetchData()\r\n  },\r\n\r\n  // 生命周期函数：内存准备完毕，页面渲染成功\r\n  mounted() {\r\n    console.log('list mounted......')\r\n  },\r\n\r\n  methods: {\r\n    // 当页码发生改变的时候\r\n    changeSize(size) {\r\n      console.log(size)\r\n      this.limit = size\r\n      this.fetchData(1)\r\n    },\r\n\r\n    addUser() {\r\n      this.$router.push({ path: '/acl/role/form' })\r\n    },\r\n\r\n    // 加载列表数据\r\n    fetchData(page = 1) {\r\n      console.log('翻页。。。' + page)\r\n      // 异步获取远程数据（ajax）\r\n      this.page = page\r\n\r\n      roleApi\r\n        .getPageList(this.page, this.limit, this.searchObj)\r\n        .then((response) => {\r\n          this.list = response.data.items\r\n          this.total = response.data.total\r\n\r\n          // 数据加载并绑定成功\r\n          this.listLoading = false\r\n        })\r\n    },\r\n\r\n    // 重置查询表单\r\n    resetData() {\r\n      console.log('重置查询表单')\r\n      this.searchObj = {}\r\n      this.fetchData()\r\n    },\r\n\r\n    // 根据id删除数据\r\n    removeDataById(id) {\r\n      // debugger\r\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(() => {\r\n          // promise\r\n          // 点击确定，远程调用ajax\r\n          return roleApi.removeById(id)\r\n        })\r\n        .then((response) => {\r\n          this.fetchData(this.page)\r\n          if (response.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!',\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除',\r\n          })\r\n        })\r\n    },\r\n\r\n    // 当表格复选框选项发生变化的时候触发\r\n    handleSelectionChange(selection) {\r\n      console.log('handleSelectionChange......')\r\n      console.log(selection)\r\n      this.multipleSelection = selection\r\n    },\r\n\r\n    // 批量删除\r\n    removeRows() {\r\n      console.log('removeRows......')\r\n\r\n      if (this.multipleSelection.length === 0) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '请选择要删除的记录!',\r\n        })\r\n        return\r\n      }\r\n\r\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(() => {\r\n          // promise\r\n          // 点击确定，远程调用ajax\r\n          // 遍历selection，将id取出放入id列表\r\n          var idList = []\r\n          this.multipleSelection.forEach((item) => {\r\n            idList.push(item.id)\r\n            // console.log(idList)\r\n          })\r\n          // 调用api\r\n          return roleApi.removeRows(idList)\r\n        })\r\n        .then((response) => {\r\n          this.fetchData(this.page)\r\n          if (response.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!',\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除',\r\n          })\r\n        })\r\n    },\r\n\r\n    // 执行搜索\r\n    // queryString：文本框中输入的值\r\n    // cb：一个函数\r\n    querySearch(queryString, cb) {\r\n      console.log(queryString)\r\n      console.log(cb)\r\n\r\n      // teacher.selectNameByKey(queryString).then(response => {\r\n      //   // 调用 callback 返回建议列表的数据\r\n      //   cb(response.data.items)\r\n      // })\r\n    },\r\n  },\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/acl/role"}]}