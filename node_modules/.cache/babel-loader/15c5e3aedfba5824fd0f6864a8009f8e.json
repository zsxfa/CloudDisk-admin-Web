{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\views\\acl\\role\\form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\views\\acl\\role\\form.vue","mtime":1642381186510},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\.babelrc","mtime":1649235073700},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcm9sZUFwaSBmcm9tICdAL2FwaS9hY2wvcm9sZSc7CnZhciBkZWZhdWx0Rm9ybSA9IHsKICByb2xlTmFtZTogJycKfTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb2xlOiBkZWZhdWx0Rm9ybSwKICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgLy8g5L+d5a2Y5oyJ6ZKu5piv5ZCm56aB55SoLAogICAgICB2YWxpZGF0ZVJ1bGVzOiB7CiAgICAgICAgcm9sZU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfop5LoibLlkI3lv4XpobvovpPlhaUnCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIC8vIOebkeWQrOWZqAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICBjb25zb2xlLmxvZygn6Lev55Sx5Y+Y5YyWLi4uLi4uJyk7CiAgICAgIGNvbnNvbGUubG9nKHRvKTsKICAgICAgY29uc29sZS5sb2coZnJvbSk7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgfQogIH0sCiAgLy8g55Sf5ZG95ZGo5pyf5pa55rOV77yI5Zyo6Lev55Sx5YiH5o2i77yM57uE5Lu25LiN5Y+Y55qE5oOF5Ya15LiL5LiN5Lya6KKr6LCD55So77yJCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdmb3JtIGNyZWF0ZWQgLi4uLi4uJyk7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOihqOWNleWIneWni+WMlgogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICB0aGlzLmZldGNoRGF0YUJ5SWQoaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWvueixoeaLk+Wxlei/kOeul+espu+8muaLt+i0neWvueixoe+8jOiAjOS4jeaYr+i1i+WAvOWvueixoeeahOW8leeUqAogICAgICAgIHRoaXMucm9sZSA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRGb3JtKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5yb2xlLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMuc2F2ZUJ0bkRpc2FibGVkID0gdHJ1ZTsgLy8g6Ziy5q2i6KGo5Y2V6YeN5aSN5o+Q5LqkCgogICAgICAgICAgaWYgKCFfdGhpcy5yb2xlLmlkKSB7CiAgICAgICAgICAgIF90aGlzLnNhdmVEYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy51cGRhdGVEYXRhKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlop4KICAgIHNhdmVEYXRhOiBmdW5jdGlvbiBzYXZlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByb2xlQXBpLnNhdmUodGhpcy5yb2xlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGRlYnVnZ2VyCiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvYWNsL3JvbGUvbGlzdCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2uaWTmm7TmlrDorrDlvZUKICAgIHVwZGF0ZURhdGE6IGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gdGVhY2hlcuaVsOaNrueahOiOt+WPlgogICAgICByb2xlQXBpLnVwZGF0ZUJ5SWQodGhpcy5yb2xlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2FjbC9yb2xlL2xpc3QnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNrmlk5p+l6K+i6K6w5b2VCiAgICBmZXRjaERhdGFCeUlkOiBmdW5jdGlvbiBmZXRjaERhdGFCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcm9sZUFwaS5nZXRCeUlkKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIF90aGlzNC5yb2xlID0gcmVzcG9uc2UuZGF0YS5pdGVtOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["form.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form\n      ref=\"role\"\n      :model=\"role\"\n      :rules=\"validateRules\"\n      label-width=\"120px\"\n    >\n      <el-form-item label=\"角色名称\" prop=\"roleName\">\n        <el-input v-model=\"role.roleName\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          :disabled=\"saveBtnDisabled\"\n          type=\"primary\"\n          @click=\"saveOrUpdate\"\n        >\n          保存\n        </el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport roleApi from '@/api/acl/role'\n\nconst defaultForm = {\n  roleName: '',\n}\n\nexport default {\n  data() {\n    return {\n      role: defaultForm,\n      saveBtnDisabled: false, // 保存按钮是否禁用,\n      validateRules: {\n        roleName: [\n          { required: true, trigger: 'blur', message: '角色名必须输入' },\n        ],\n      },\n    }\n  },\n\n  // 监听器\n  watch: {\n    $route(to, from) {\n      console.log('路由变化......')\n      console.log(to)\n      console.log(from)\n      this.init()\n    },\n  },\n\n  // 生命周期方法（在路由切换，组件不变的情况下不会被调用）\n  created() {\n    console.log('form created ......')\n    this.init()\n  },\n\n  methods: {\n    // 表单初始化\n    init() {\n      debugger\n      if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id\n        this.fetchDataById(id)\n      } else {\n        // 对象拓展运算符：拷贝对象，而不是赋值对象的引用\n        this.role = { ...defaultForm }\n      }\n    },\n\n    saveOrUpdate() {\n      this.$refs.role.validate((valid) => {\n        if (valid) {\n          this.saveBtnDisabled = true // 防止表单重复提交\n          if (!this.role.id) {\n            this.saveData()\n          } else {\n            this.updateData()\n          }\n        }\n      })\n    },\n\n    // 新增\n    saveData() {\n      roleApi.save(this.role).then((response) => {\n        // debugger\n        if (response.success) {\n          this.$message({\n            type: 'success',\n            message: response.message,\n          })\n        }\n        this.$router.push({ path: '/acl/role/list' })\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      // teacher数据的获取\n      roleApi.updateById(this.role).then((response) => {\n        if (response.success) {\n          this.$message({\n            type: 'success',\n            message: response.message,\n          })\n        }\n        this.$router.push({ path: '/acl/role/list' })\n      })\n    },\n\n    // 根据id查询记录\n    fetchDataById(id) {\n      roleApi.getById(id).then((response) => {\n        debugger\n        this.role = response.data.item\n      })\n    },\n  },\n}\n</script>\n"],"sourceRoot":"src/views/acl/role"}]}