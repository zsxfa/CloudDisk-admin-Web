{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\mixin\\ResizeHandler.js","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\mixin\\ResizeHandler.js","mtime":1649302923096},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\.babelrc","mtime":1649302887736},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649302895478},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649302893135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwp2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsCiAgICBib2R5ID0gX2RvY3VtZW50LmJvZHk7CnZhciBXSURUSCA9IDEwMjQ7CnZhciBSQVRJTyA9IDM7CmV4cG9ydCBkZWZhdWx0IHsKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUocm91dGUpIHsKICAgICAgaWYgKHRoaXMuZGV2aWNlID09PSAnbW9iaWxlJyAmJiB0aGlzLnNpZGViYXIub3BlbmVkKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0Nsb3NlU2lkZUJhcicsIHsKICAgICAgICAgIHdpdGhvdXRBbmltYXRpb246IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZUhhbmRsZXIpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBpc01vYmlsZSA9IHRoaXMuaXNNb2JpbGUoKTsKCiAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgLy8gc3RvcmUuZGlzcGF0Y2goJ1RvZ2dsZURldmljZScsICdtb2JpbGUnKQogICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgIHdpdGhvdXRBbmltYXRpb246IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc01vYmlsZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7CiAgICAgIHZhciByZWN0ID0gYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgcmV0dXJuIHJlY3Qud2lkdGggLSBSQVRJTyA8IFdJRFRIOwogICAgfSwKICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7CiAgICAgICAgdmFyIGlzTW9iaWxlID0gdGhpcy5pc01vYmlsZSgpOyAvLyBzdG9yZS5kaXNwYXRjaCgnVG9nZ2xlRGV2aWNlJywgaXNNb2JpbGUgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJykKCiAgICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["D:/Developer/bishe/front/CloudDisk-admin-web/src/layout/mixin/ResizeHandler.js"],"names":["store","document","body","WIDTH","RATIO","watch","$route","route","device","sidebar","opened","dispatch","withoutAnimation","beforeMount","window","addEventListener","resizeHandler","mounted","isMobile","methods","rect","getBoundingClientRect","width","hidden"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,gBAAiBC,QAAjB;AAAA,IAAQC,IAAR,aAAQA,IAAR;AACA,IAAMC,KAAK,GAAG,IAAd;AACA,IAAMC,KAAK,GAAG,CAAd;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MADK,kBACEC,KADF,EACS;AACZ,UAAI,KAAKC,MAAL,KAAgB,QAAhB,IAA4B,KAAKC,OAAL,CAAaC,MAA7C,EAAqD;AACnDV,QAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAA/B;AACD;AACF;AALI,GADM;AAQbC,EAAAA,WARa,yBAQC;AACZC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,aAAvC;AACD,GAVY;AAWbC,EAAAA,OAXa,qBAWH;AACR,QAAMC,QAAQ,GAAG,KAAKA,QAAL,EAAjB;;AACA,QAAIA,QAAJ,EAAc;AACZ;AACAlB,MAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,QAAAA,gBAAgB,EAAE;AAApB,OAA/B;AACD;AACF,GAjBY;AAkBbO,EAAAA,OAAO,EAAE;AACPD,IAAAA,QADO,sBACI;AACT,UAAME,IAAI,GAAGlB,IAAI,CAACmB,qBAAL,EAAb;AACA,aAAOD,IAAI,CAACE,KAAL,GAAalB,KAAb,GAAqBD,KAA5B;AACD,KAJM;AAKPa,IAAAA,aALO,2BAKS;AACd,UAAI,CAACf,QAAQ,CAACsB,MAAd,EAAsB;AACpB,YAAML,QAAQ,GAAG,KAAKA,QAAL,EAAjB,CADoB,CAEpB;;AAEA,YAAIA,QAAJ,EAAc;AACZlB,UAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,YAAAA,gBAAgB,EAAE;AAApB,WAA/B;AACD;AACF;AACF;AAdM;AAlBI,CAAf","sourcesContent":["import store from '@/store'\r\n\r\nconst { body } = document\r\nconst WIDTH = 1024\r\nconst RATIO = 3\r\n\r\nexport default {\r\n  watch: {\r\n    $route(route) {\r\n      if (this.device === 'mobile' && this.sidebar.opened) {\r\n        store.dispatch('CloseSideBar', { withoutAnimation: false })\r\n      }\r\n    },\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.resizeHandler)\r\n  },\r\n  mounted() {\r\n    const isMobile = this.isMobile()\r\n    if (isMobile) {\r\n      // store.dispatch('ToggleDevice', 'mobile')\r\n      store.dispatch('CloseSideBar', { withoutAnimation: true })\r\n    }\r\n  },\r\n  methods: {\r\n    isMobile() {\r\n      const rect = body.getBoundingClientRect()\r\n      return rect.width - RATIO < WIDTH\r\n    },\r\n    resizeHandler() {\r\n      if (!document.hidden) {\r\n        const isMobile = this.isMobile()\r\n        // store.dispatch('ToggleDevice', isMobile ? 'mobile' : 'desktop')\r\n\r\n        if (isMobile) {\r\n          store.dispatch('CloseSideBar', { withoutAnimation: true })\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n"]}]}