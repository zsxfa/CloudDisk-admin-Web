{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\utils\\index.js","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\utils\\index.js","mtime":1649302923117},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\.babelrc","mtime":1649302887736},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649302895478},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649302893135}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiOwoKLyoqDQogKi8KCi8qKg0KICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYw0KICogQHBhcmFtIHtudW1iZXJ9IHdhaXQNCiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW1tZWRpYXRlDQogKiBAcmV0dXJuIHsqfQ0KICovCmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHsKICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7CgogIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkgewogICAgLy8g5o2u5LiK5LiA5qyh6Kem5Y+R5pe26Ze06Ze06ZqUCiAgICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpIC0gdGltZXN0YW1wOyAvLyDkuIrmrKHooqvljIXoo4Xlh73mlbDooqvosIPnlKjml7bpl7Tpl7TpmpQgbGFzdCDlsI/kuo7orr7lrprml7bpl7Tpl7TpmpQgd2FpdAoKICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID4gMCkgewogICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpOwogICAgfSBlbHNlIHsKICAgICAgdGltZW91dCA9IG51bGw7IC8vIOWmguaenOiuvuWumuS4umltbWVkaWF0ZT09PXRydWXvvIzlm6DkuLrlvIDlp4vovrnnlYzlt7Lnu4/osIPnlKjov4fkuobmraTlpITml6DpnIDosIPnlKgKCiAgICAgIGlmICghaW1tZWRpYXRlKSB7CiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTsKICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDsKICAgICAgfQogICAgfQogIH07CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBjb250ZXh0ID0gdGhpczsKICAgIHRpbWVzdGFtcCA9ICtuZXcgRGF0ZSgpOwogICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7IC8vIOWmguaenOW7tuaXtuS4jeWtmOWcqO+8jOmHjeaWsOiuvuWumuW7tuaXtgoKICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpOwoKICAgIGlmIChjYWxsTm93KSB7CiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7CiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH07Cn0KLyoqDQogKiBQYXJzZSB0aGUgdGltZSB0byBzdHJpbmcNCiAqIEBwYXJhbSB7KE9iamVjdHxzdHJpbmd8bnVtYmVyKX0gdGltZQ0KICogQHBhcmFtIHtzdHJpbmd9IGNGb3JtYXQNCiAqIEByZXR1cm5zIHtzdHJpbmcgfCBudWxsfQ0KICovCgpleHBvcnQgZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWUsIGNGb3JtYXQpIHsKICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCAhdGltZSkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgZm9ybWF0ID0gY0Zvcm1hdCB8fCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nOwogIHZhciBkYXRlOwoKICBpZiAoX3R5cGVvZih0aW1lKSA9PT0gJ29iamVjdCcpIHsKICAgIGRhdGUgPSB0aW1lOwogIH0gZWxzZSB7CiAgICBpZiAodHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICgvXlswLTldKyQvLnRlc3QodGltZSkpIHsKICAgICAgICAvLyBzdXBwb3J0ICIxNTQ4MjIxNDkwNjM4IgogICAgICAgIHRpbWUgPSBwYXJzZUludCh0aW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBzdXBwb3J0IHNhZmFyaQogICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQzMTA5NTMvaW52YWxpZC1kYXRlLWluLXNhZmFyaQogICAgICAgIHRpbWUgPSB0aW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgvLS9nbSksICcvJyk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodHlwZW9mIHRpbWUgPT09ICdudW1iZXInICYmIHRpbWUudG9TdHJpbmcoKS5sZW5ndGggPT09IDEwKSB7CiAgICAgIHRpbWUgPSB0aW1lICogMTAwMDsKICAgIH0KCiAgICBkYXRlID0gbmV3IERhdGUodGltZSk7CiAgfQoKICB2YXIgZm9ybWF0T2JqID0gewogICAgeTogZGF0ZS5nZXRGdWxsWWVhcigpLAogICAgbTogZGF0ZS5nZXRNb250aCgpICsgMSwKICAgIGQ6IGRhdGUuZ2V0RGF0ZSgpLAogICAgaDogZGF0ZS5nZXRIb3VycygpLAogICAgaTogZGF0ZS5nZXRNaW51dGVzKCksCiAgICBzOiBkYXRlLmdldFNlY29uZHMoKSwKICAgIGE6IGRhdGUuZ2V0RGF5KCkKICB9OwogIHZhciB0aW1lX3N0ciA9IGZvcm1hdC5yZXBsYWNlKC97KFt5bWRoaXNhXSkrfS9nLCBmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHsKICAgIHZhciB2YWx1ZSA9IGZvcm1hdE9ialtrZXldOyAvLyBOb3RlOiBnZXREYXkoKSByZXR1cm5zIDAgb24gU3VuZGF5CgogICAgaWYgKGtleSA9PT0gJ2EnKSB7CiAgICAgIHJldHVybiBbJ+aXpScsICfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrSddW3ZhbHVlXTsKICAgIH0KCiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogIH0pOwogIHJldHVybiB0aW1lX3N0cjsKfQovKioNCiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lDQogKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uDQogKiBAcmV0dXJucyB7c3RyaW5nfQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZSh0aW1lLCBvcHRpb24pIHsKICBpZiAoKCcnICsgdGltZSkubGVuZ3RoID09PSAxMCkgewogICAgdGltZSA9IHBhcnNlSW50KHRpbWUpICogMTAwMDsKICB9IGVsc2UgewogICAgdGltZSA9ICt0aW1lOwogIH0KCiAgdmFyIGQgPSBuZXcgRGF0ZSh0aW1lKTsKICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICB2YXIgZGlmZiA9IChub3cgLSBkKSAvIDEwMDA7CgogIGlmIChkaWZmIDwgMzApIHsKICAgIHJldHVybiAn5Yia5YiaJzsKICB9IGVsc2UgaWYgKGRpZmYgPCAzNjAwKSB7CiAgICAvLyBsZXNzIDEgaG91cgogICAgcmV0dXJuIE1hdGguY2VpbChkaWZmIC8gNjApICsgJ+WIhumSn+WJjSc7CiAgfSBlbHNlIGlmIChkaWZmIDwgMzYwMCAqIDI0KSB7CiAgICByZXR1cm4gTWF0aC5jZWlsKGRpZmYgLyAzNjAwKSArICflsI/ml7bliY0nOwogIH0gZWxzZSBpZiAoZGlmZiA8IDM2MDAgKiAyNCAqIDIpIHsKICAgIHJldHVybiAnMeWkqeWJjSc7CiAgfQoKICBpZiAob3B0aW9uKSB7CiAgICByZXR1cm4gcGFyc2VUaW1lKHRpbWUsIG9wdGlvbik7CiAgfSBlbHNlIHsKICAgIHJldHVybiBkLmdldE1vbnRoKCkgKyAxICsgJ+aciCcgKyBkLmdldERhdGUoKSArICfml6UnICsgZC5nZXRIb3VycygpICsgJ+aXticgKyBkLmdldE1pbnV0ZXMoKSArICfliIYnOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gaXNFeHRlcm5hbChwYXRoKSB7CiAgcmV0dXJuIC9eKGh0dHBzPzp8bWFpbHRvOnx0ZWw6KS8udGVzdChwYXRoKTsKfQovKioNCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwNCiAqIEByZXR1cm5zIHtPYmplY3R9DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBwYXJhbTJPYmoodXJsKSB7CiAgdmFyIHNlYXJjaCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmwuc3BsaXQoJz8nKVsxXSkucmVwbGFjZSgvXCsvZywgJyAnKTsKCiAgaWYgKCFzZWFyY2gpIHsKICAgIHJldHVybiB7fTsKICB9CgogIHZhciBvYmogPSB7fTsKICB2YXIgc2VhcmNoQXJyID0gc2VhcmNoLnNwbGl0KCcmJyk7CiAgc2VhcmNoQXJyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgIHZhciBpbmRleCA9IHYuaW5kZXhPZignPScpOwoKICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgdmFyIG5hbWUgPSB2LnN1YnN0cmluZygwLCBpbmRleCk7CiAgICAgIHZhciB2YWwgPSB2LnN1YnN0cmluZyhpbmRleCArIDEsIHYubGVuZ3RoKTsKICAgICAgb2JqW25hbWVdID0gdmFsOwogICAgfQogIH0pOwogIHJldHVybiBvYmo7Cn0="},{"version":3,"sources":["D:/Developer/bishe/front/CloudDisk-admin-web/src/utils/index.js"],"names":["debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","setTimeout","apply","callNow","parseTime","time","cFormat","arguments","length","format","date","test","parseInt","replace","RegExp","toString","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","i","getMinutes","s","getSeconds","a","getDay","time_str","key","value","padStart","formatTime","option","now","diff","Math","ceil","isExternal","path","param2Obj","url","search","decodeURIComponent","split","obj","searchArr","forEach","v","index","indexOf","name","substring","val"],"mappings":"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","sourcesContent":["/**\r\n */\r\n\r\n/**\r\n * @param {Function} func\r\n * @param {number} wait\r\n * @param {boolean} immediate\r\n * @return {*}\r\n */\r\nexport function debounce(func, wait, immediate) {\r\n  let timeout, args, context, timestamp, result\r\n\r\n  const later = function () {\r\n    // 据上一次触发时间间隔\r\n    const last = +new Date() - timestamp\r\n\r\n    // 上次被包装函数被调用时间间隔 last 小于设定时间间隔 wait\r\n    if (last < wait && last > 0) {\r\n      timeout = setTimeout(later, wait - last)\r\n    } else {\r\n      timeout = null\r\n      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\r\n      if (!immediate) {\r\n        result = func.apply(context, args)\r\n        if (!timeout) context = args = null\r\n      }\r\n    }\r\n  }\r\n\r\n  return function (...args) {\r\n    context = this\r\n    timestamp = +new Date()\r\n    const callNow = immediate && !timeout\r\n    // 如果延时不存在，重新设定延时\r\n    if (!timeout) timeout = setTimeout(later, wait)\r\n    if (callNow) {\r\n      result = func.apply(context, args)\r\n      context = args = null\r\n    }\r\n\r\n    return result\r\n  }\r\n}\r\n\r\n/**\r\n * Parse the time to string\r\n * @param {(Object|string|number)} time\r\n * @param {string} cFormat\r\n * @returns {string | null}\r\n */\r\nexport function parseTime(time, cFormat) {\r\n  if (arguments.length === 0 || !time) {\r\n    return null\r\n  }\r\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\r\n  let date\r\n  if (typeof time === 'object') {\r\n    date = time\r\n  } else {\r\n    if (typeof time === 'string') {\r\n      if (/^[0-9]+$/.test(time)) {\r\n        // support \"1548221490638\"\r\n        time = parseInt(time)\r\n      } else {\r\n        // support safari\r\n        // https://stackoverflow.com/questions/4310953/invalid-date-in-safari\r\n        time = time.replace(new RegExp(/-/gm), '/')\r\n      }\r\n    }\r\n\r\n    if (typeof time === 'number' && time.toString().length === 10) {\r\n      time = time * 1000\r\n    }\r\n    date = new Date(time)\r\n  }\r\n  const formatObj = {\r\n    y: date.getFullYear(),\r\n    m: date.getMonth() + 1,\r\n    d: date.getDate(),\r\n    h: date.getHours(),\r\n    i: date.getMinutes(),\r\n    s: date.getSeconds(),\r\n    a: date.getDay(),\r\n  }\r\n  const time_str = format.replace(/{([ymdhisa])+}/g, (result, key) => {\r\n    const value = formatObj[key]\r\n    // Note: getDay() returns 0 on Sunday\r\n    if (key === 'a') {\r\n      return ['日', '一', '二', '三', '四', '五', '六'][value]\r\n    }\r\n    return value.toString().padStart(2, '0')\r\n  })\r\n  return time_str\r\n}\r\n\r\n/**\r\n * @param {number} time\r\n * @param {string} option\r\n * @returns {string}\r\n */\r\nexport function formatTime(time, option) {\r\n  if (('' + time).length === 10) {\r\n    time = parseInt(time) * 1000\r\n  } else {\r\n    time = +time\r\n  }\r\n  const d = new Date(time)\r\n  const now = Date.now()\r\n\r\n  const diff = (now - d) / 1000\r\n\r\n  if (diff < 30) {\r\n    return '刚刚'\r\n  } else if (diff < 3600) {\r\n    // less 1 hour\r\n    return Math.ceil(diff / 60) + '分钟前'\r\n  } else if (diff < 3600 * 24) {\r\n    return Math.ceil(diff / 3600) + '小时前'\r\n  } else if (diff < 3600 * 24 * 2) {\r\n    return '1天前'\r\n  }\r\n  if (option) {\r\n    return parseTime(time, option)\r\n  } else {\r\n    return (\r\n      d.getMonth() +\r\n      1 +\r\n      '月' +\r\n      d.getDate() +\r\n      '日' +\r\n      d.getHours() +\r\n      '时' +\r\n      d.getMinutes() +\r\n      '分'\r\n    )\r\n  }\r\n}\r\nexport function isExternal(path) {\r\n  return /^(https?:|mailto:|tel:)/.test(path)\r\n}\r\n/**\r\n * @param {string} url\r\n * @returns {Object}\r\n */\r\nexport function param2Obj(url) {\r\n  const search = decodeURIComponent(url.split('?')[1]).replace(/\\+/g, ' ')\r\n  if (!search) {\r\n    return {}\r\n  }\r\n  const obj = {}\r\n  const searchArr = search.split('&')\r\n  searchArr.forEach((v) => {\r\n    const index = v.indexOf('=')\r\n    if (index !== -1) {\r\n      const name = v.substring(0, index)\r\n      const val = v.substring(index + 1, v.length)\r\n      obj[name] = val\r\n    }\r\n  })\r\n  return obj\r\n}\r\n"]}]}