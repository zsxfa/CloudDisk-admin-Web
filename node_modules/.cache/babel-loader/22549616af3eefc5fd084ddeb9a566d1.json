{"remainingRequest":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\mixin\\ResizeHandler.js","dependencies":[{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\src\\layout\\mixin\\ResizeHandler.js","mtime":1644421584287},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Developer\\bishe\\front\\CloudDisk-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpjb25zdCB7CiAgYm9keQp9ID0gZG9jdW1lbnQ7CmNvbnN0IFdJRFRIID0gMTAyNDsKY29uc3QgUkFUSU8gPSAzOwpleHBvcnQgZGVmYXVsdCB7CiAgd2F0Y2g6IHsKICAgICRyb3V0ZShyb3V0ZSkgewogICAgICBpZiAodGhpcy5kZXZpY2UgPT09ICdtb2JpbGUnICYmIHRoaXMuc2lkZWJhci5vcGVuZWQpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgICAgd2l0aG91dEFuaW1hdGlvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZUhhbmRsZXIpOwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBpc01vYmlsZSA9IHRoaXMuaXNNb2JpbGUoKTsKCiAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ1RvZ2dsZURldmljZScsICdtb2JpbGUnKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ0Nsb3NlU2lkZUJhcicsIHsKICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGlzTW9iaWxlKCkgewogICAgICBjb25zdCByZWN0ID0gYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgcmV0dXJuIHJlY3Qud2lkdGggLSBSQVRJTyA8IFdJRFRIOwogICAgfSwKCiAgICByZXNpemVIYW5kbGVyKCkgewogICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgewogICAgICAgIGNvbnN0IGlzTW9iaWxlID0gdGhpcy5pc01vYmlsZSgpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdUb2dnbGVEZXZpY2UnLCBpc01vYmlsZSA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnKTsKCiAgICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQ2xvc2VTaWRlQmFyJywgewogICAgICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["D:/Developer/bishe/front/CloudDisk-admin-web/src/layout/mixin/ResizeHandler.js"],"names":["store","body","document","WIDTH","RATIO","watch","$route","route","device","sidebar","opened","dispatch","withoutAnimation","beforeMount","window","addEventListener","resizeHandler","mounted","isMobile","methods","rect","getBoundingClientRect","width","hidden"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAWC,QAAjB;AACA,MAAMC,KAAK,GAAG,IAAd;AACA,MAAMC,KAAK,GAAG,CAAd;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,CAACC,KAAD,EAAQ;AACZ,UAAI,KAAKC,MAAL,KAAgB,QAAhB,IAA4B,KAAKC,OAAL,CAAaC,MAA7C,EAAqD;AACnDV,QAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAA/B;AACD;AACF;;AALI,GADM;;AAQbC,EAAAA,WAAW,GAAG;AACZC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,aAAvC;AACD,GAVY;;AAWbC,EAAAA,OAAO,GAAG;AACR,UAAMC,QAAQ,GAAG,KAAKA,QAAL,EAAjB;;AACA,QAAIA,QAAJ,EAAc;AACZlB,MAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B,QAA/B;AACAX,MAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,QAAAA,gBAAgB,EAAE;AAApB,OAA/B;AACD;AACF,GAjBY;;AAkBbO,EAAAA,OAAO,EAAE;AACPD,IAAAA,QAAQ,GAAG;AACT,YAAME,IAAI,GAAGnB,IAAI,CAACoB,qBAAL,EAAb;AACA,aAAOD,IAAI,CAACE,KAAL,GAAalB,KAAb,GAAqBD,KAA5B;AACD,KAJM;;AAKPa,IAAAA,aAAa,GAAG;AACd,UAAI,CAACd,QAAQ,CAACqB,MAAd,EAAsB;AACpB,cAAML,QAAQ,GAAG,KAAKA,QAAL,EAAjB;AACAlB,QAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+BO,QAAQ,GAAG,QAAH,GAAc,SAArD;;AAEA,YAAIA,QAAJ,EAAc;AACZlB,UAAAA,KAAK,CAACW,QAAN,CAAe,cAAf,EAA+B;AAAEC,YAAAA,gBAAgB,EAAE;AAApB,WAA/B;AACD;AACF;AACF;;AAdM;AAlBI,CAAf","sourcesContent":["import store from '@/store'\n\nconst { body } = document\nconst WIDTH = 1024\nconst RATIO = 3\n\nexport default {\n  watch: {\n    $route(route) {\n      if (this.device === 'mobile' && this.sidebar.opened) {\n        store.dispatch('CloseSideBar', { withoutAnimation: false })\n      }\n    },\n  },\n  beforeMount() {\n    window.addEventListener('resize', this.resizeHandler)\n  },\n  mounted() {\n    const isMobile = this.isMobile()\n    if (isMobile) {\n      store.dispatch('ToggleDevice', 'mobile')\n      store.dispatch('CloseSideBar', { withoutAnimation: true })\n    }\n  },\n  methods: {\n    isMobile() {\n      const rect = body.getBoundingClientRect()\n      return rect.width - RATIO < WIDTH\n    },\n    resizeHandler() {\n      if (!document.hidden) {\n        const isMobile = this.isMobile()\n        store.dispatch('ToggleDevice', isMobile ? 'mobile' : 'desktop')\n\n        if (isMobile) {\n          store.dispatch('CloseSideBar', { withoutAnimation: true })\n        }\n      }\n    },\n  },\n}\n"]}]}